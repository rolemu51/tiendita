<!doctype html>
<html lang="es">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Venta de productos</title>
    <script src="appLlenaCarritorespaldo.js"></script>
    <link href="estilocd.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2"
        crossorigin="anonymous"></script>

</head>
<body>
    <script>
        fetch('traerProductos.php', {
            method: 'POST',
            body: 1
        })
            .then(res => res.json())
            .then(res => {
                datos = res
                document.getElementById("respuesta").innerHTML = ``
                for (let dato of datos) {
                    varid = JSON.parse(dato).id;
                    document.getElementById("respuesta").innerHTML +=
                        `<div class='card col-4' style='width: 25rem; background-color:white; color:black; margin:auto; padding:10px;'>
                            <form id="formulario">  
                                    <div class="container" style="magin:auto; padding:10px; height:280px;">
                                    <div class="row" style="magin:auto; padding:10px; text-align:center;">
                                        
                                        <h1  name="idProducto" id="ide" class='card-title'    style='margin: auto  ; display:none'>${JSON.parse(dato).id}</h1>
                                    </div>
                                         
                                    <div class="row" style="magin:auto; padding:10px;">
                                        <img src=${JSON.parse(dato).imagen} class='card-img-top' alt='...' style='width: 100px ; margin : auto'>
                                    </div>    
                                    <div class="row" style="magin:auto; padding:10px; text-align:center;">
                                        <h5 class='card-title' name='name' style='margin: auto'>${JSON.parse(dato).nombre}</h5>
                                    </div>    
                                    <div class="row" style="magin:auto; padding:10px;text-align:center;">
                                        <p class='card-text'>${JSON.parse(dato).detalle}</p>
                                    </div>    
                                    <div class="row" style="magin:auto; padding:10px; text-align:center;">
                                        <div class="col-6">
                                           
                                            <p class='card-text'>Precio : ${JSON.parse(dato).precio}</p>
                                        </div>
                                        <div class="col-6">
                                            <p class='card-text'>Existencia : ${JSON.parse(dato).existencia}</p>
                                        </div>
                                    </div>
                                </div>
                                <form id="otroform"> 
                                    <div class="container" style="padding: 10px;">
                                        <div class="row" style="background-color: #48e; padding: 10px; margin: auto; " >
                                            <div  class="col-4">
                                                <p><button   type="button"  class="btn btn-primary"  onclick='agregaEnCarrito(${JSON.parse(dato).id})' style='width: 100px; height:60px;'>AÃ±adir a carrito</button></p>
                                                 
                                            </div>
                                            <div class="col-4">
                                                <p><a class='btn btn-primary' href='verCarrito.php'>Ir a carrito</a></p>
                                            </div>
                                            <div class="col-4">
                                                <p><a class='btn btn-primary' href='borraCarrito.php'>Limpia Carrito</a></p>
                                            </div>
                                        </div> 
                                    </div>
                                </form> 
                        </form>                      
                    </div>
                 `
                }
            });
    </script>
    <div class='container'>
        <div class='row'>
            <div id="respu">
            </div>
        </div>
    </div>
    <div class='container' style='padding:10px; '>
        <div id="respuesta" class="row">
        </div>
        
    </div>
    <div>
        
    </div>
</body>
</html>